@using Syncfusion.Blazor.Grids
@using AIS.Data.RequestResponseModel.Expense
@using Syncfusion.Blazor.Cards
@using Syncfusion.Blazor.Charts
@using Syncfusion.Blazor.Navigations
@using Syncfusion.Blazor
@using Syncfusion.Blazor.Inputs
@using Syncfusion.Blazor.DropDowns
@using Syncfusion.Blazor.Buttons
@using Syncfusion.Blazor.Data
@using Syncfusion.Blazor.LinearGauge
@using Syncfusion.Blazor.Layouts
@using Syncfusion.Blazor.Popups
@using AIS.Data.RequestResponseModel.Registration.UserRegistration


@page "/User_Pages/Registration/UserRegistration"

@inherits UserRegistrationBase

@{
    var InitSearch2 = (new string[] { "subjectName" });
    var Tool = (new List<string>() { "Search" });
    var InitialGroupColumnsection = (new string[] { "questionSectionGroup" });

    // Sample dropdown data

}

<MudGrid>
    <MudItem xs="12" sm="12" md="12">
        <SfDashboardLayout CellSpacing="@(new double[]{20, 20})" Columns="10" CellAspectRatio="2" AllowResizing="true">
            <DashboardLayoutPanels>





                <DashboardLayoutPanel SizeX="3" SizeY="5">
                    <HeaderTemplate>List</HeaderTemplate>
                    <ContentTemplate>
                        <MudGrid>
                            <MudItem xs="12" md="12" sm="12">
                                <!-- Add dropdowns and search box -->
                                <MudGrid>
                                  


                                    <MudItem xs="12" md="6" sm="6">
                                        <SfDropDownList ID="gender"
                                                        CssClass="e-outline"
                                                        Placeholder="Choose Class"
                                                        FloatLabelType="@FloatLabelType.Never"
                                                        AllowFiltering="true"
                                                        @bind-Value="@userRegistrationViewMdel.className"
                                                        DataSource="@ClassOptions">
                                            <DropDownListFieldSettings Text="Value" Value="Id"></DropDownListFieldSettings>
                                        </SfDropDownList>
                                    </MudItem>

                               


                                    <MudItem xs="12" md="6" sm="6">
                                        <SfDropDownList ID="gender"
                                                        CssClass="e-outline"
                                                        Placeholder="Select a Gender"
                                                        FloatLabelType="@FloatLabelType.Never"
                                                        AllowFiltering="true"
                                                        @bind-Value="@userRegistrationViewMdel.section"
                                                        DataSource="@SectionOptions">
                                            <DropDownListFieldSettings Text="Value" Value="Id"></DropDownListFieldSettings>
                                        </SfDropDownList>
                                    </MudItem>
                                    @*  <MudItem xs="12" md="12" sm="12">
                                        <SfTextBox CssClass="e-outline" Placeholder="Search" Type="Syncfusion.Blazor.Inputs.InputType.Text" @bind-Value="searchQuery" FloatLabelType="@FloatLabelType.Never" Width="100%" />
                                    </MudItem> *@
                                </MudGrid>

                                <!-- SfGrid component -->
                                <SfGrid DataSource="@_UserRegistrationOutputModel"
                                        @ref="sfRegistrationOutputModel"
                                        EnableVirtualMaskRow="true"
                                        RowHeight="38" Height="710"
                                        Width="auto" EnableVirtualization="false"
                                        AllowResizing="true" AllowExcelExport="true"
                                        EnableAutoFill="true" AllowReordering="true"
                                        ShowColumnChooser="true" AllowGrouping="true" AllowSorting="true"
                                        AllowFiltering="true" AllowPaging="true" ShowColumnMenu="true"
                                        ContextMenuItems="MenuItems">
                                    <GridFilterSettings Type="@Syncfusion.Blazor.Grids.FilterType.Menu"></GridFilterSettings>
                                    <GridPageSettings PageCount="20" PageSizes="true"></GridPageSettings>
                                    <GridGroupSettings Columns="@InitialGroupColumnsection"></GridGroupSettings>
                                    <GridGroupSettings Columns=@InitialGroupColumnsection>

                                        <CaptionTemplate>
                                            @{
                                                var UnitDetails = (context as CaptionTemplateContext);
                                                <div>@UnitDetails.Field - @UnitDetails.Key</div>
                                            }
                                        </CaptionTemplate>
                                    </GridGroupSettings>



                                    <GridSearchSettings Fields=@InitSearch2 Operator=Syncfusion.Blazor.Operator.Contains Key=""
                                                        IgnoreCase="true"></GridSearchSettings>            
                                                        <GridColumns>
                                        <!-- Add your grid columns here -->
                                        <GridColumn HeaderText="Action" Width="20" AutoFit="true" TextAlign="TextAlign.Center">
                                            <GridCommandColumns>
                                                <GridCommandColumn Type="CommandButtonType.Edit" ButtonOption="@(new CommandButtonOptions() { Content = "Delete", IconCss = "e-icons e-delete e-primary e-outline", CssClass = "e-flat e-danger e-outline" })"></GridCommandColumn>
                                            </GridCommandColumns>
                                        </GridColumn>
                                    </GridColumns>
                                </SfGrid>
                            </MudItem>
                        </MudGrid>
                    </ContentTemplate>
                </DashboardLayoutPanel>







                <!-- Left panel for input fields -->
                <DashboardLayoutPanel SizeX="7" SizeY="5">
                   

    <ContentTemplate>
        <MudGrid>
            <MudItem xs="12" md="12" sm="8">
                <EditForm Model="userRegistrationViewMdel" OnValidSubmit="OnValidSubmit">
                    <DataAnnotationsValidator />
                    <MudGrid>
                        <!-- Student Information -->
                       

                             <MudItem xs="12">
                                            <MudCard Style="width: 100%;">
                                                <MudGrid>
                                                    <!-- Radio buttons for different admission options -->
                                                  

                                                        <div style="text-align: center; font-size: 24px; font-weight: bold;">
                                                            Student Admission Form 2024-25
                                                        </div>

                                                  
                                                </MudGrid>
                                            </MudCard>
                                        </MudItem>


                                        <MudItem xs="12">
                                            <MudCard Style="width: 100%;">
                                                <MudGrid>
                                                    <!-- Radio buttons for different admission options -->
                                                    <MudItem xs="12" md="4" sm="6">
                                                     @*    <MudPaper Style="padding: 16px;">
                                                            <MudRadioGroup T="string" @bind-SelectedOption="userRegistrationViewMdel.admissionAction" Label="Admission Action">
                                                                <MudRadio T="string" Label="New Admission" Value="New Admission" />
                                                                <MudRadio T="string" Label="Cancel Admission" Value="Cancel Admission" />
                                                                <MudRadio T="string" Label="Update Admission" Value="Update Admission" />
                                                                <MudRadio T="string" Label="Reactive Admission" Value="Reactive Admission" />
                                                                <MudRadio T="string" Label="Suspend Admission" Value="Suspend Admission" />
                                                                <MudRadio T="string" Label="TC Issue" Value="TC Issue" />
                                                            </MudRadioGroup>
                                                            <ValidationMessage For="() => userRegistrationViewMdel.admissionAction" />
                                                        </MudPaper> *@


                                                      


                                                    </MudItem>
                                                </MudGrid>
                                            </MudCard>
                                        </MudItem>





                                        <MudItem xs="12">
                                            <MudCard Style="width: 100%;">
                                                <MudText Typo="Typo.h6">Student Information</MudText>
                                                <MudGrid>
                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfTextBox CssClass="e-outline" Placeholder="Withdrawal No" @bind-Value="userRegistrationViewMdel.withdrawalNo" FloatLabelType="FloatLabelType.Never" />
                                                        <ValidationMessage For="() => userRegistrationViewMdel.withdrawalNo" />
                                                    </MudItem>
                                                 
                                             
                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfTextBox CssClass="e-outline" Placeholder="Admission No" @bind-Value="userRegistrationViewMdel.admissionNo" FloatLabelType="FloatLabelType.Never" />
                                                        <ValidationMessage For="() => userRegistrationViewMdel.admissionNo" />
                                                    </MudItem>
                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfTextBox CssClass="e-outline" Placeholder="House" @bind-Value="userRegistrationViewMdel.house" FloatLabelType="FloatLabelType.Never" />
                                                        <ValidationMessage For="() => userRegistrationViewMdel.house" />
                                                    </MudItem>

                                                           <MudItem xs="12" md="2" sm="12">
                                                        <SfDatePicker CssClass="e-outline" Placeholder="Admission Date" @bind-Value="userRegistrationViewMdel.admissionDate" FloatLabelType="FloatLabelType.Never" />
                                                        <ValidationMessage For="() => userRegistrationViewMdel.admissionDate" />
                                                    </MudItem>

                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfTextBox CssClass="e-outline" Placeholder="Student Name" @bind-Value="userRegistrationViewMdel.studentName" FloatLabelType="FloatLabelType.Never" />
                                                        <ValidationMessage For="() => userRegistrationViewMdel.studentName" />
                                                    </MudItem>
                                                 
                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfTextBox CssClass="e-outline" Placeholder="Category" @bind-Value="userRegistrationViewMdel.category" FloatLabelType="FloatLabelType.Never" />
                                                        <ValidationMessage For="() => userRegistrationViewMdel.category" />
                                                    </MudItem>








                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfDropDownList ID="gender"
                                                                        CssClass="e-outline"
                                                                        Placeholder="Select a Gender"
                                                                        FloatLabelType="@FloatLabelType.Never"
                                                                        AllowFiltering="true"
                                                                        @bind-Value="@userRegistrationViewMdel.gender"
                                                                        DataSource="@GenderDetails">
                                                            <DropDownListFieldSettings Text="Value" Value="Id"></DropDownListFieldSettings>
                                                            <ValidationMessage For="@(() => userRegistrationViewMdel.gender)"></ValidationMessage>
                                                        </SfDropDownList>
                                                    </MudItem>

                                                    <MudItem xs="12" md="2" sm="12">
                                                        <SfDatePicker CssClass="e-outline" Placeholder="Date of Birth" @bind-Value="userRegistrationViewMdel.dateOfBirth" FloatLabelType="FloatLabelType.Never" />
                                                        <ValidationMessage For="() => userRegistrationViewMdel.dateOfBirth" />
                                                    </MudItem>

                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfDropDownList ID="category"
                                                                        CssClass="e-outline"
                                                                        Placeholder="Select a category"
                                                                        FloatLabelType="@FloatLabelType.Never"
                                                                        AllowFiltering="true"
                                                                        @bind-Value="@userRegistrationViewMdel.category"
                                                                        DataSource="@CategoryDetails">
                                                            <DropDownListFieldSettings Text="Value" Value="Id"></DropDownListFieldSettings>
                                                            <ValidationMessage For="@(() => userRegistrationViewMdel.category)"></ValidationMessage>
                                                        </SfDropDownList>
                                                    </MudItem>




                                       
                                                  


                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfDropDownList ID="studentType"
                                                                        CssClass="e-outline"
                                                                        Placeholder="Select a Student Type"
                                                                        FloatLabelType="@FloatLabelType.Never"
                                                                        AllowFiltering="true"
                                                                        @bind-Value="@userRegistrationViewMdel.studentType"
                                                                        DataSource="@StdTypeDetails">
                                                            <DropDownListFieldSettings Text="Value" Value="Id"></DropDownListFieldSettings>
                                                            <ValidationMessage For="@(() => userRegistrationViewMdel.studentType)"></ValidationMessage>
                                                        </SfDropDownList>
                                                    </MudItem>



                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfDropDownList ID="className"
                                                                        CssClass="e-outline"
                                                                        Placeholder="Select a Class Name"
                                                                        FloatLabelType="@FloatLabelType.Never"
                                                                        AllowFiltering="true"
                                                                        @bind-Value="@userRegistrationViewMdel.className"
                                                                        DataSource="@ClassOptions">
                                                            <DropDownListFieldSettings Text="Value" Value="Id"></DropDownListFieldSettings>
                                                            <ValidationMessage For="@(() => userRegistrationViewMdel.className)"></ValidationMessage>
                                                        </SfDropDownList>
                                                    </MudItem>



                                                    <MudItem xs="12" md="2" sm="12">
                                                        <SfDropDownList ID="religion"
                                                                        CssClass="e-outline"
                                                                        Placeholder="Select a Religion"
                                                                        FloatLabelType="@FloatLabelType.Never"
                                                                        AllowFiltering="true"
                                                                        @bind-Value="@userRegistrationViewMdel.religion"
                                                                        DataSource="@ReligionDetails">
                                                            <DropDownListFieldSettings Text="Value" Value="Id"></DropDownListFieldSettings>
                                                            <ValidationMessage For="@(() => userRegistrationViewMdel.religion)"></ValidationMessage>
                                                        </SfDropDownList>
                                                    </MudItem>



                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfDropDownList ID="section"
                                                                        CssClass="e-outline"
                                                                        Placeholder="Select a Section Name"
                                                                        FloatLabelType="@FloatLabelType.Never"
                                                                        AllowFiltering="true"
                                                                        @bind-Value="@userRegistrationViewMdel.section"
                                                                        DataSource="@SectionOptions">
                                                            <DropDownListFieldSettings Text="Value" Value="Id"></DropDownListFieldSettings>
                                                            <ValidationMessage For="@(() => userRegistrationViewMdel.section)"></ValidationMessage>
                                                        </SfDropDownList>
                                                    </MudItem>



                                                   



                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfDropDownList ID="feeCategory"
                                                                        CssClass="e-outline"
                                                                        Placeholder="Select a Fee Category"
                                                                        FloatLabelType="@FloatLabelType.Never"
                                                                        AllowFiltering="true"
                                                                        @bind-Value="@userRegistrationViewMdel.feeCategory"
                                                                        DataSource="@FeeCategoryDetails">
                                                            <DropDownListFieldSettings Text="Value" Value="Id"></DropDownListFieldSettings>
                                                            <ValidationMessage For="@(() => userRegistrationViewMdel.feeCategory)"></ValidationMessage>
                                                        </SfDropDownList>
                                                    </MudItem>







                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfDropDownList ID="transportMode"
                                                                        CssClass="e-outline"
                                                                        Placeholder="Select a Transport Mode"
                                                                        FloatLabelType="@FloatLabelType.Never"
                                                                        AllowFiltering="true"
                                                                        @bind-Value="@userRegistrationViewMdel.transportMode"
                                                                        DataSource="@TranportModeDetails">
                                                            <DropDownListFieldSettings Text="Value" Value="Id"></DropDownListFieldSettings>
                                                            <ValidationMessage For="@(() => userRegistrationViewMdel.transportMode)"></ValidationMessage>
                                                        </SfDropDownList>
                                                    </MudItem>

                                                    <MudItem xs="12" md="2" sm="12">
                                                        <SfNumericTextBox CssClass="e-outline" Placeholder="Roll Number" @bind-Value="userRegistrationViewMdel.rollNo" FloatLabelType="FloatLabelType.Never" />
                                                        <ValidationMessage For="() => userRegistrationViewMdel.rollNo" />
                                                    </MudItem>



                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfDropDownList ID="busStop"
                                                                        CssClass="e-outline"
                                                                        Placeholder="Select a Bus Stop"
                                                                        FloatLabelType="@FloatLabelType.Never"
                                                                        AllowFiltering="true"
                                                                        @bind-Value="@userRegistrationViewMdel.busStop"
                                                                        DataSource="@SelectBusStopDetails">
                                                            <DropDownListFieldSettings Text="Value" Value="Id"></DropDownListFieldSettings>
                                                            <ValidationMessage For="@(() => userRegistrationViewMdel.busStop)"></ValidationMessage>
                                                        </SfDropDownList>
                                                    </MudItem>




                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfTextBox CssClass="e-outline" Placeholder="Bus Route" @bind-Value="userRegistrationViewMdel.busRoute" FloatLabelType="FloatLabelType.Never" />
                                                        <ValidationMessage For="() => userRegistrationViewMdel.busRoute" />
                                                    </MudItem>

                                                </MudGrid>
                                            </MudCard>
                                        </MudItem>


                                         <!-- Parent's Details -->
                          <MudItem xs="12">
                                            <MudCard Style="width: 100%;">
                                                <MudText Typo="Typo.h6">Parent's Details</MudText>
                                                <MudGrid>
                                        <MudItem xs="12" md="3" sm="12">
                                            <SfTextBox CssClass="e-outline" Placeholder="Father's Name" @bind-Value="userRegistrationViewMdel.fatherName" FloatLabelType="FloatLabelType.Never" />
                                            <ValidationMessage For="() => userRegistrationViewMdel.fatherName" />
                                        </MudItem>
                                        <MudItem xs="12" md="3" sm="12">
                                            <SfTextBox CssClass="e-outline" Placeholder="Mother's Name" @bind-Value="userRegistrationViewMdel.motherName" FloatLabelType="FloatLabelType.Never" />
                                            <ValidationMessage For="() => userRegistrationViewMdel.motherName" />
                                        </MudItem>
                                        <MudItem xs="12" md="3" sm="12">
                                            <SfTextBox CssClass="e-outline" Placeholder="Grandfather's Name" @bind-Value="userRegistrationViewMdel.grandFatherName" FloatLabelType="FloatLabelType.Never" />
                                            <ValidationMessage For="() => userRegistrationViewMdel.grandFatherName" />
                                        </MudItem>
                                        <MudItem xs="12" md="2" sm="12">
                                            <SfTextBox CssClass="e-outline" Placeholder="Father's Mobile No" @bind-Value="userRegistrationViewMdel.fatherMobileNo" FloatLabelType="FloatLabelType.Never" />
                                            <ValidationMessage For="() => userRegistrationViewMdel.fatherMobileNo" />
                                        </MudItem>
                                        <MudItem xs="12" md="3" sm="12">
                                            <SfTextBox CssClass="e-outline" Placeholder="Mother's Mobile No" @bind-Value="userRegistrationViewMdel.motherMobileNo" FloatLabelType="FloatLabelType.Never" />
                                            <ValidationMessage For="() => userRegistrationViewMdel.motherMobileNo" />
                                        </MudItem>

                                                </MudGrid>
                                            </MudCard>
                                        </MudItem>


                                         <!-- Health Status -->
                      <MudItem xs="12">
                                            <MudCard Style="width: 100%;">
                                                <MudText Typo="Typo.h6">Health Status</MudText>
                                                <MudGrid>
                                        <MudItem xs="12" md="3" sm="12">
                                            <SfTextBox CssClass="e-outline" Placeholder="SRN No" @bind-Value="userRegistrationViewMdel.srnNo" FloatLabelType="FloatLabelType.Never" />
                                            <ValidationMessage For="() => userRegistrationViewMdel.srnNo" />
                                        </MudItem>
                                        <MudItem xs="12" md="3" sm="12">
                                            <SfTextBox CssClass="e-outline" Placeholder="Aadhar No" @bind-Value="userRegistrationViewMdel.aadhar" FloatLabelType="FloatLabelType.Never" />
                                            <ValidationMessage For="() => userRegistrationViewMdel.aadhar" />
                                        </MudItem>
                                        <MudItem xs="12" md="3" sm="12">
                                            <SfTextBox CssClass="e-outline" Placeholder="WN" @bind-Value="userRegistrationViewMdel.wn" FloatLabelType="FloatLabelType.Never" />
                                            <ValidationMessage For="() => userRegistrationViewMdel.wn" />
                                        </MudItem>






                                                    <MudItem xs="12" md="2" sm="12">
                                                        <SfDropDownList ID="BloodGroup"
                                                                        CssClass="e-outline"
                                                                        Placeholder="Select a BloodGroup"
                                                                        FloatLabelType="@FloatLabelType.Never"
                                                                        AllowFiltering="true"
                                                                        @bind-Value="@userRegistrationViewMdel.bloodGroup"
                                                                        DataSource="@BloodGroupDetails">
                                                            <DropDownListFieldSettings Text="Value" Value="Id"></DropDownListFieldSettings>
                                                            <ValidationMessage For="@(() => userRegistrationViewMdel.bloodGroup)"></ValidationMessage>
                                                        </SfDropDownList>
                                                    </MudItem>


                                        <MudItem xs="12" md="3" sm="12">
                                            <SfTextBox CssClass="e-outline" Placeholder="Email ID" @bind-Value="userRegistrationViewMdel.emailID" FloatLabelType="FloatLabelType.Never" />
                                            <ValidationMessage For="() => userRegistrationViewMdel.emailID" />
                                        </MudItem>
                                                </MudGrid>
                                            </MudCard>
                                        </MudItem>

                                            <!-- Present Address -->
  <MudItem xs="12">
                                            <MudCard Style="width: 100%;">
                                                <MudText Typo="Typo.h6">Present Address </MudText>
                                                <MudGrid>

                                        <MudItem xs="12" md="3" sm="12">
                                            <SfTextBox CssClass="e-outline" Placeholder="Address" @bind-Value="userRegistrationViewMdel.address" FloatLabelType="FloatLabelType.Never" />
                                            <ValidationMessage For="() => userRegistrationViewMdel.address" />
                                        </MudItem>




                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfDropDownList ID="state"
                                                                        CssClass="e-outline"
                                                                        Placeholder="Select a State"
                                                                        FloatLabelType="@FloatLabelType.Never"
                                                                        AllowFiltering="true"
                                                                        @bind-Value="@userRegistrationViewMdel.state"
                                                                        DataSource="@StateDetails">
                                                            <DropDownListFieldSettings Text="Value" Value="Id"></DropDownListFieldSettings>
                                                            <ValidationMessage For="@(() => userRegistrationViewMdel.state)"></ValidationMessage>
                                                        </SfDropDownList>
                                                    </MudItem>



                                                    <MudItem xs="12" md="3" sm="12">
                                                        <SfDropDownList ID="city"
                                                                        CssClass="e-outline"
                                                                        Placeholder="Select a city"
                                                                        FloatLabelType="@FloatLabelType.Never"
                                                                        AllowFiltering="true"
                                                                        @bind-Value="@userRegistrationViewMdel.city"
                                                                        DataSource="@CityDetails">
                                                            <DropDownListFieldSettings Text="Value" Value="Id"></DropDownListFieldSettings>
                                                            <ValidationMessage For="@(() => userRegistrationViewMdel.city)"></ValidationMessage>
                                                        </SfDropDownList>
                                                    </MudItem>

                                     

                                        <MudItem xs="12" md="2" sm="12">
                                            <SfTextBox CssClass="e-outline" Placeholder="Pin Code" @bind-Value="userRegistrationViewMdel.pinCode" FloatLabelType="FloatLabelType.Never" />
                                            <ValidationMessage For="() => userRegistrationViewMdel.pinCode" />
                                        </MudItem>
                                                </MudGrid>
                                            </MudCard>
                                        </MudItem>

                                            <!-- Admit Status -->


                   


                                        <MudItem xs="12" md="7" sm="6">
                                            <SfButton CssClass="e-outline" type="submit" IsPrimary="true">Save</SfButton>
                                            <SfButton Type="button" CssClass="e-flat" IsToggle="false " IsPrimary="false" Content="Cancel" OnClick="@CloseDialog"></SfButton>
                                        </MudItem>

                                    </MudGrid>
                                </EditForm>
                            </MudItem>
                        </MudGrid>
                    </ContentTemplate>
                </DashboardLayoutPanel>

                <!-- Right panel for list and search -->

            </DashboardLayoutPanels>
        </SfDashboardLayout>
    </MudItem>
</MudGrid>

